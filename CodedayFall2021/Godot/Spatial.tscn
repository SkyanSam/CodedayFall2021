[gd_scene load_steps=15 format=2]

[ext_resource path="res://Player.gd" type="Script" id=1]
[ext_resource path="res://enemy.gd" type="Script" id=2]

[sub_resource type="SpatialMaterial" id=9]
albedo_color = Color( 0.466667, 0.0784314, 0.0784314, 1 )
metallic = 0.28

[sub_resource type="CubeMesh" id=10]
material = SubResource( 9 )

[sub_resource type="Skin" id=11]

[sub_resource type="BoxShape" id=3]
extents = Vector3( 1, 1, 0.425693 )

[sub_resource type="NavigationMesh" id=12]
vertices = PoolVector3Array( -13.8451, 1.59838, -6.8314, -10.8451, 1.59838, -6.8314, -10.8451, 1.59838, -10.8314, -13.8451, 1.59838, -18.8314, -10.8451, 1.59838, 11.1686, -10.8451, 1.59838, 7.1686, -13.8451, 1.59838, 7.1686, -13.8451, 1.59838, 19.1686, 14.1549, 1.59838, -9.8314, 14.1549, 1.59838, -18.8314, 7.15492, 1.59838, -18.8314, 7.15492, 1.59838, 19.1686, 14.1549, 1.59838, 19.1686, 14.1549, 1.59838, 9.1686, -10.8451, 1.59838, 11.1686, -13.8451, 1.59838, 19.1686, -6.84508, 1.59838, 19.1686, -6.84508, 1.59838, 12.1686, 14.1549, 1.59838, -9.8314, 7.15492, 1.59838, -18.8314, 0.154919, 1.59838, -18.8314, -5.84508, 1.59838, -6.8314, -5.84508, 1.59838, 0.168604, 14.1549, 1.59838, 0.168604, -6.84508, 1.59838, -18.8314, -13.8451, 1.59838, -18.8314, -10.8451, 1.59838, -10.8314, -6.84508, 1.59838, -11.8314, 0.154919, 1.59838, 19.1686, 7.15492, 1.59838, 19.1686, 14.1549, 1.59838, 9.1686, 14.1549, 1.59838, 0.168604, -5.84508, 1.59838, 0.168604, -5.84508, 1.59838, 7.1686, -6.84508, 1.59838, 12.1686, -6.84508, 1.59838, 19.1686, 0.154919, 1.59838, 19.1686, -5.84508, 1.59838, 7.1686, 0.154919, 1.59838, -18.8314, -6.84508, 1.59838, -18.8314, -6.84508, 1.59838, -11.8314, -5.84508, 1.59838, -6.8314, -13.8451, 1.59838, 7.1686, -10.8451, 1.59838, 7.1686, -10.8451, 1.59838, 0.168604, -13.8451, 1.59838, 0.168604, -13.8451, 1.59838, -6.8314, -13.8451, 1.59838, 0.168604, -10.8451, 1.59838, 0.168604, -10.8451, 1.59838, -6.8314 )
polygons = [ PoolIntArray( 1, 0, 2 ), PoolIntArray( 2, 0, 3 ), PoolIntArray( 5, 4, 6 ), PoolIntArray( 6, 4, 7 ), PoolIntArray( 10, 9, 8 ), PoolIntArray( 13, 12, 11 ), PoolIntArray( 17, 16, 14 ), PoolIntArray( 14, 16, 15 ), PoolIntArray( 19, 18, 20 ), PoolIntArray( 20, 18, 23 ), PoolIntArray( 20, 23, 21 ), PoolIntArray( 21, 23, 22 ), PoolIntArray( 27, 26, 24 ), PoolIntArray( 24, 26, 25 ), PoolIntArray( 29, 28, 30 ), PoolIntArray( 30, 28, 31 ), PoolIntArray( 31, 28, 33 ), PoolIntArray( 31, 33, 32 ), PoolIntArray( 35, 34, 36 ), PoolIntArray( 36, 34, 37 ), PoolIntArray( 39, 38, 40 ), PoolIntArray( 40, 38, 41 ), PoolIntArray( 45, 44, 42 ), PoolIntArray( 42, 44, 43 ), PoolIntArray( 49, 48, 46 ), PoolIntArray( 46, 48, 47 ) ]
cell/size = 1.0
cell/height = 1.5
agent/height = 3.0
agent/radius = 1.0

[sub_resource type="CubeMesh" id=13]

[sub_resource type="CubeMesh" id=14]

[sub_resource type="CapsuleMesh" id=15]
mid_height = 3.0

[sub_resource type="SpatialMaterial" id=16]
albedo_color = Color( 0.6, 0.756863, 0.105882, 1 )

[sub_resource type="CubeMesh" id=17]

[sub_resource type="BoxShape" id=18]

[sub_resource type="BoxShape" id=19]

[node name="Spatial" type="Spatial"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0305731, 0, 0 )

[node name="Player" type="KinematicBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 0.484, -36.1205, 2.60187, 0 )
script = ExtResource( 1 )

[node name="body" type="MeshInstance" parent="Player"]
transform = Transform( 0.32, 0, 0, 0, 0.742, 0, 0, 0, 0.5, -0.374844, 0, -1.02127 )
mesh = SubResource( 10 )
skin = SubResource( 11 )
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="Player"]
transform = Transform( 0.32, 0, 0, 0, 0.742, 0, 0, 0, 1.2, -0.37226, 0.00331402, -1.00746 )
shape = SubResource( 3 )

[node name="RayCast" type="RayCast" parent="Player"]
transform = Transform( 0.999999, 0, 0, 0, 0.999999, 0, 0, 0, 0.999999, -0.431187, -0.494289, -1.0078 )
enabled = true
cast_to = Vector3( 0, -0.5, 0 )
debug_shape_custom_color = Color( 0.121569, 0.698039, 0.92549, 1 )
debug_shape_thickness = 5.0

[node name="Camera" type="Camera" parent="Player"]
transform = Transform( 1, 0, 0, 0, 0.914551, 0.404471, 0, -0.835684, 1.88957, 0.166538, 6.25676, 25.5792 )

[node name="SpotLight" type="SpotLight" parent="."]
transform = Transform( -0.955226, 5.05596e-05, -0.295876, -0.215721, 0.684297, 0.696565, 0.202502, 0.729204, -0.653647, -9.62928, 13.087, -17.8697 )
light_color = Color( 0.992157, 0.462745, 0.14902, 1 )
light_energy = 4.991

[node name="Navigation" type="Navigation" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0305731, 0, 0 )

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="Navigation"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0228386, -0.146486, -0.0944014 )
navmesh = SubResource( 12 )

[node name="MeshInstance" type="MeshInstance" parent="Navigation/NavigationMeshInstance"]
transform = Transform( 14.8451, 0, 0, 0, 0.573004, 0, 0, 0, 19.8314, 0, -0.828617, 0 )
mesh = SubResource( 13 )
material/0 = null

[node name="MeshInstance2" type="MeshInstance" parent="Navigation/NavigationMeshInstance"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 10.3548, -7.98063, 0.511741, 0 )
mesh = SubResource( 14 )
material/0 = null

[node name="enemy" type="KinematicBody" parent="Navigation"]
transform = Transform( 0.381702, 0, 0, 0, 0.328914, 0, 0, 0, 0.375537, -2.29801, 1.4119, -2.59046 )
script = ExtResource( 2 )

[node name="MeshInstance" type="MeshInstance" parent="Navigation/enemy"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0 )
mesh = SubResource( 15 )
material/0 = SubResource( 16 )

[node name="Timer" type="Timer" parent="Navigation/enemy"]
wait_time = 2.0
autostart = true

[node name="StaticBody" type="StaticBody" parent="Navigation"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -36.8233, 0, 0 )

[node name="MeshInstance" type="MeshInstance" parent="Navigation/StaticBody"]
mesh = SubResource( 17 )
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="Navigation/StaticBody"]
shape = SubResource( 18 )

[node name="CollisionShape2" type="CollisionShape" parent="Navigation/StaticBody"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.98851, 1.96815 )
shape = SubResource( 19 )

[node name="Spatial" type="Spatial" parent="Navigation/StaticBody/CollisionShape2"]
